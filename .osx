# Applications
# ------------

# Install homebrew unless it is already available.
which brew &> /dev/null || {
  ruby -e "$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)"
}

# Now, install the GNU core utilities (ls, rm, etc.). By default they are
# prefixed with `g` (gls, grm, etc.), but the zshrc adds their unprefixed
# versions to the $PATH.
brew install coreutils

# I like Vim, so have it installed by default. Build it with Lua support, so I
# can test some of the new plugins.
brew install lua mercurial
brew install vim --override-system-vi --with-lua

# Settings
# --------

# Don't show shadows around the captured windows.
defaults write com.apple.screencapture disable-shadow -bool true

# Kill the SystemUI Server for the changes to take affect.
killall SystemUIServer

# Check for software updates daily, not just once per week.
defaults write com.apple.SoftwareUpdate ScheduleFrequency -int 1

# Disable Notification Center and remove the menu bar icon.
sudo launchctl unload -w /System/Library/LaunchAgents/com.apple.notificationcenterui.plist

# Disable press-and-hold for keys in favor of key repeat.
defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

# Set a keyboard repeat rate of 2ms.
defaults write NSGlobalDomain KeyRepeat -int 2

# Updates
# -------

brew update && brew upgrade

# Diagnostics
# -----------

brew doctor
